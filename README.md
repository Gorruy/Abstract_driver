# Abstract_driver

## Сборка
В папке src необходимо ввести команду:
```sh
make
```
Создадутся два объектных файла: abs.ko и abs_test_devices.ko
Первый - непосредственно драйвер, второй - тестовые устройства

## Использование
Загрузить драйвер в ядро командой
```sh
sudo insmod abs.ko
```
Загрузить устройства в ядро командой
```sh
sudo insmod abs_test_devices.ko
```

В каталоге /dev будут созданы файлы устройств с которыми можно взаимодействовать стандартным способов: через системные вызовы write, open, read, mmap и lseek

так же в папке /sys/devices/platform буду созданы файлы для доступа к памяти драйвера, в них будут атрибуты abs_value и abs_address, изначально данные атрибуты проинициализированы нулями, значение abs_address можно менять записывая 32-битные значение не превышающие 512 в файл, для записи значения в текущий адрес памяти устройства необходимо записать его в файл abs_value